% use the base acmart.cls
% use the sigplan proceeding template with the default 10 pt fonts
% nonacm option removes ACM related text in the submission. 
\documentclass[sigplan,nonacm]{acmart}



% \usepackage{amsmath,amssymb,amsfonts,amsthm}
\usepackage[ruled, vlined, linesnumbered]{algorithm2e}
% \usepackage[version=4]{mhchem}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage[table]{xcolor}
\usepackage{booktabs}
\usepackage{subfigure}
\usepackage{hyperref}
\usepackage{makecell}
\usepackage{adjustbox}
\usepackage{cleveref}
\usepackage{multirow}
\usepackage{soul}
\usepackage{quantikz}
\usepackage{lipsum}



% enable page numbers
\settopmatter{printfolios=true}


\newcommand{\squote}[1]{`#1'}
\newcommand{\dquote}[1]{``#1''}
\newcommand{\code}{\texttt}

\newcommand{\note}[1]{{\color{blue} #1}}
\newcommand{\NOTE}[1]{{\color{green} #1}}

\newcommand{\ZY}[1]{{\color{purple}[ZY: #1]}}


\newcommand{\canopus}{\textsc{Canopus}}
\newcommand{\fullNameOfCanopus}{\textbf{Can}onical-\textbf{O}ptimized \textbf{P}lacement \textbf{U}tility \textbf{S}uite}
\newcommand{\nassc}{\textsc{NASSC}}
\newcommand{\sabre}{\textsc{Sabre}}
\newcommand{\mirage}{\textsc{Mirage}}
\newcommand{\toqm}{\textsc{TOQM}}
\newcommand{\bqskit}{\textsc{BQSKit}}
\newcommand{\qiskit}{\textsc{Qiskit}}
\newcommand{\tket}{\textsc{TKet}}

\newcommand{\Can}{\mathrm{Can}}
\newcommand{\Uthree}{\mathrm{U3}}
\newcommand{\XX}{\mathrm{XX}}
\newcommand{\YY}{\mathrm{YY}}
\newcommand{\ZZ}{\mathrm{ZZ}}
\newcommand{\CX}{\mathrm{CX}}
\newcommand{\CZ}{\mathrm{CZ}}
\newcommand{\CNOT}{\mathrm{CNOT}}
\newcommand{\iSWAP}{\mathrm{iSWAP}}
\newcommand{\SQiSW}{\mathrm{\sqrt{iSWAP}}}
\newcommand{\ECP}{\mathrm{ECP}}
\newcommand{\SWAP}{\mathrm{SWAP}}
\newcommand{\CPhase}{\mathrm{CPhase}}
\newcommand{\pSWAP}{\mathrm{pSWAP}}

\newcommand{\countCost}{C_{\mathrm{count}}}
\newcommand{\depthCost}{C_{\mathrm{depth}}}


\newcommand{\CXISA}{\code{CX}}
\newcommand{\HetISA}{\code{Het}}
\newcommand{\ZZPhaseISA}{\code{ZZPhase}}
\newcommand{\ZZPhaseWithMirrorISA}{\code{ZZPhase\_}}
\newcommand{\SQiSWISA}{\code{SQiSW}}
\newcommand{\iSWAPISA}{\code{iSWAP}}
\newcommand{\SQiSWWithMirrorISA}{\code{SQiSW\_}}
\newcommand{\CanISA}{\code{Can}}

\newcommand{\canopusGitHub}{\href{https://anonymous.4open.science/r/canopus-asplos2026-8B43}{Anynomous Github link}}


\newtheorem{theorem}{Theorem}\Crefname{theorem}{Theorem}{Theorems}  % 定理编号形如 "1.1", "1.2"
\newtheorem{definition}{Definition}\Crefname{definition}{Definition}{Definitions}  % 定义编号形如 "1.1", "1.2"
\newtheorem{lemma}{Lemma}\Crefname{lemma}{Lemma}{Lemmas}  % 引理编号形如 "1.1", "1.2"
\newtheorem{corollary}{Corollary}\Crefname{corollary}{Corollary}{Corollaries}  % 推论编号形如 "1.1", "1.2"
\newtheorem*{takeaways}{Takeaways}


\hypersetup{
  colorlinks=true,
  linkcolor=blue,  
  urlcolor=blue,   
  citecolor=purple,   
  filecolor=pink    
}

% \everydisplay{\small}  % 所有行间公式字体


% \AtBeginEnvironment{takeaways}{\normalfont} % 内容强制正体

\SetAlFnt{\small} % TODO: use \footnotesize or \small
\SetAlCapFnt{\small}
% \SetCommentSty{textit}

% \hypersetup{hidelinks}


% \hypersetup{draft}

% \def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
%     T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}



\begin{document}
\title{Qubit Mapping and Routing tailored to Advanced Quantum ISAs: Not as Costly as You Think}


\begin{abstract}
  Qubit mapping/routing is a critical compilation stage for both near-term and fault-tolerant quantum computers, yet existing scalable methods typically impose several times the routing overhead in terms of circuit depth or duration. This performance gap stems from a fundamental disconnect: compilers relies on the simplified routing model (e.g., three-$ \mathrm{CX} $-unrolled SWAP insertion), which fails to exploit the intrinsic properties of hardware-native quantum gates. 

  Recent hardware breakthroughs have also enabled high-precision implementations of diverse instruction set architectures (ISAs) beyond standard $\mathrm{CX}$-based gates. Advanced ISAs such as $\mathrm{\sqrt{iSWAP}}$ and $\mathrm{ZZ}(\theta)$ offer superior circuit synthesis capabilities and inherent noise resilience. However, the absence of systematic compiler optimization strategies tailored to these advanced ISAs has prevented the community from leveraging their full capabilities.

  To address this, we propose \canopus, a unified qubit mapping/routing framework across diverse quantum ISAs. Built upon the canonical representation of two-qubit gates, \canopus\ centers on qubit routing to perform deep co-optimization in an ISA-aware approach. \canopus\ leverages the two-qubit canonical representation and monodromy polytope theory to model the synthesis cost for more intelligent $ \mathrm{SWAP} $ search during routing. Commutation relations between two-qubit gates can be formalized through the canonical form in our findings, providing a generalized approach to commutative optimizations. Experiments show that \canopus\ consistently reduces routing overhead by 30\%-40\% compared to state-of-the-art methods across versatile ISAs and topologies. Our work also presents a coherent method for co-exploration of program patterns, quantum ISAs, and hardware topologies. We have for the first time demonstrated that advanced quantum ISAs can be efficiently utilized within a unified routing framework, paving the way for more effective co-design of quantum software and hardware.

\end{abstract}


\maketitle % should come after the abstract

% add the paper content here



\input{sections/introduction}
\input{sections/background}
\input{sections/motivation}
\input{sections/canopus}
\input{sections/implementation}
\input{sections/study}
\input{sections/evaluation}
\input{sections/related}
\input{sections/conclusion}





% use the ACM bibliography style
\bibliographystyle{ACM-Reference-Format}
\bibliography{reference}


%%%%%%----- Appendix -----%%%%%%
\onecolumn
\appendix
\input{sections/appendix_A}
\input{sections/appendix_B}


\end{document}
